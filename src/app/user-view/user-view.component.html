<div class="container mx-auto p-8">
  <div *ngIf="user(); else loading" class="bg-white p-8 rounded-xl shadow-lg max-w-lg mx-auto">
    <div class="space-y-4">
          <div class="border rounded-lg p-4 bg-gray-50">
                <label class="block text-sm font-medium text-gray-700 mb-2">Imagen de Perfil</label>
                
                <!-- Preview de imagen -->
                <div class="flex flex-col items-center mb-4">
                    @if (profileImagePreview()) {
                        <img [src]="profileImagePreview()" alt="Vista previa" class="w-32 h-32 rounded-full object-cover border-2 border-gray-300 mb-2">
                    } @else if (existingImageUrl()) {
                        <img [src]="existingImageUrl()" alt="Imagen actual" class="w-32 h-32 rounded-full object-cover border-2 border-gray-300 mb-2">
                        <p class="text-sm text-gray-600">Imagen actual del usuario</p>
                    } @else {
                        <div class="w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-2 border-dashed border-gray-300 mb-2">
                            <span class="text-gray-400 text-4xl">ðŸ‘¤</span>
                        </div>
                        <p class="text-sm text-gray-600">Sin imagen de perfil</p>
                    }
                </div>
        </div>
        <p class="text-gray-600">
            <span class="font-semibold text-gray-800">Nombre de usuario:</span> {{ user()!.name }}
        </p>
        <p class="text-gray-600">
            <span class="font-semibold text-gray-800">Permisos:</span> {{ user()!.profile.permissions }}
        </p>
        <p class="text-gray-600">
            <span class="font-semibold text-gray-800">Email:</span> {{ user()!.email }}
        </p>
        <p class="text-gray-600">
            <span class="font-semibold text-gray-800">Fecha de CreaciÃ³n:</span> {{ user()!.created_at | date: 'longDate' }}
        </p>
        <p class="text-gray-600">
            <span class="font-semibold text-gray-800">Ãšltima ActualizaciÃ³n:</span> {{ user()!.updated_at | date: 'dd/MM/yy hh:mm:ss' }}
        </p>
    </div>
    <button (click)="goBack()" class="mt-8 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-full transition-colors duration-200">
      Volver a la lista
    </button>
  </div>
  <ng-template #loading>
    <div class="text-center text-gray-500">Cargando usuario...</div>
  </ng-template>
</div>
